<!DOCTYPE html>
<html>
  <head>
    <title>JS3</title>
    <style>
      input[type = checkbox] {
        display: flex;
      }

      ul {
        display: flex;
        flex-direction: column
      }

      li {
        display: flex;
        flex-wrap: nowrap;
      }

      li:before {
        content: "\2022";
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <div>
      <h1>Список покупок</h1>
      <ul id="list">
        <li><input type='checkbox'>Молоко</li>
        <li><input type='checkbox'>Сок</li>
        <li><input type='checkbox'>Хлеб</li>
      </ul>
      <input type="text" id="inputValue">
    </div>
    <div>
      <button id="addButton">Добавить</button>
      <button id="deleteButton">Удалить</button>
    </div>
  </body>
  <script>
    const list = document.getElementById('list');
    const addButton = document.getElementById('addButton');
    const deleteButton = document.getElementById('deleteButton');
    const inputValue = document.getElementById('inputValue');

    addButton.addEventListener('click', addItem);
    deleteButton.addEventListener('click', deleteSelectedItems);

    function addItem() {
      const value = inputValue.value.trim();
      if (value !== '') {
        const newItem = document.createElement('li');
        newItem.innerHTML = "<input type='checkbox'>" + value;
        list.appendChild(newItem);
        inputValue.value = '';
      }
      let dataText = JSON.parse(value)
      console.log(dataText)
    }

    function deleteSelectedItems() {
      const selectedCheckboxes = document.querySelectorAll('input[type="checkbox"]:checked');
      if (selectedCheckboxes.length > 0) {
        selectedCheckboxes.forEach((checkbox) => {
          const checkboxItem = checkbox.closest('li');
          checkboxItem.remove(); // Удаляет элемент <li>
        });
      }
    }

    // let items = [];

    // for (let i = 0; i < list.children.length; i++) {
    //   let li = list.children[i];
    //   items.push(li.textContent);
    // }

    // localStorage.setItem('items', JSON.stringify(items));

    // const item = localStorage.getItem('items') || [];

    // if (items) {
    //   list.innerHTML = items.map(item => `<li>${item}</li>`).join('');
    // }

    //let getLi = document.querySelector("ul")
    //console.log(list.innerText)
  </script>
</html>

